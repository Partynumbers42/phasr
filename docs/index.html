<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phasr Doc</title>
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="Documentation for the python package phasr">
    <meta name="author" content="Frederic NoÃ«l">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/stackoverflow-light.min.css"> <!-- Code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script> <!-- Code highlighting -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <!-- Latex -->
    <link rel="stylesheet" href="style.css?">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;700&family=Open+Sans:ital,wght@0,400;0,700;1,600&display=swap" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
</head>
<body>

    <div class="navbar clear nav-top">
        <div class="row content">
            <a href="#"><img class="logo" src="phasr.svg"></a>
            <a class="nav-title" href="#"><b>phasr</b></a>
            <a class="right" style="text-decoration: underline;" href="#"><i class="fas fa-book"></i>&nbsp; Documentation</a>
            <a class="right" href="mailto:yourapp@email.com" target="_blank"><i class="fas fa-paper-plane"></i>&nbsp; yourapp@email.com</a>
        </div>
    </div>

    <div class="container clear">
        <div class="row wrapper">

            <div class="sidepanel">

                <a class="title" href="#intro">Introduction</a>
                
                <a class="section" href="#versions">Supported Versions</a>
                <a class="section" href="#about">About this Package</a>
                <a class="section" href="#dependencies">Technology</a>

                <div class="divider left"></div>

                <a class="title" href="#gettingstarted">Getting Started</a>

                <a class="section" href="#installingapp">Installing the Package</a>
                 <a class="section" href="#openingapp">Using the Package</a>

                <div class="divider left"></div>

                <a class="title" href="#basicfeatures">Basic Modules</a>

                <a class="section" href="#nucleus">nucleus</a>
                <a class="section" href="#diracsolver">dirac_solver</a>
                <!--<a class="section" href="#feature3">Feature 3</a>
                <a class="section" href="#feature4">Feature 4</a>
                <a class="section" href="#feature5">Feature 5</a>-->

                <div class="divider left"></div>

                <a class="title" href="#advanced">Common Use Cases</a>

                <a class="section" href="#ana">Crosssection (ana)</a>
                <a class="section" href="#num">Crosssection (num)</a>
                <a class="section" href="#PV">Parity Violation (TBD)</a>
                <!--<a class="sub-section" href="#featurec1">Feature C.1</a>
                <a class="sub-section" href="#featurec2">Feature C.2</a>
                <a class="section" href="#featured">Feature D</a>-->

                <!--<div class="divider left"></div>

                <a class="title" href="#accesibility">Accesibility</a>-->

                <div class="divider left"></div>

                <a class="title" href="#moreinfo">More Info</a>
            
             <div class="space double"></div>

            </div>

            <div class="right-col">
            
                <!-- <h1 class="maintitle"> phasr </h1> -->

                <h1 id="intro">Introduction</h1>
                
                <p> <code> phasr </code> is a python package able to calculate scattering phase shifts for arbitrary radial potentials and calculate (elastic) electron nucleus scattering crosssections based on it. 
                    In combination with a fitting routine it can be used to fit elastic electron nucleus scattering data to extract charge density parameterizations. It is also possible to increase the precision sufficiently to quantitately resolve parity violating electron scattering (optimisation for this use case is planed for a future update). </p> 
            
                <h2 id="versions">Versions/Change-Log:</h2>
             
                <p>
                    <b>Version 0.2.0. :</b> Basic features implemented.<br>
                    <b>Version 0.1.4. :</b> Build dirac_solvers module. <br>
                    <b>Version 0.1.3. :</b> Build nuclei module. <br>
                    <b>Version 0.1.2. :</b> Build skeleton. <br>
                    <b>Version 0.1.0. :</b> First init. Empty. 
                </p>
                
                <h2 id="about">About this Package</h2>
                
                <p> This package was developed with the goal of extracting charge density parameterizations based on (elastic) electron nucleus scattering crosssection data while properly accounting for Coulomb corrections using the so called phase shift model. 
                While this procedure is known since the 60s, the documentation and availability of programs used back then, are very limited and hardly accessable. 
                Furthermore, for a majority of nuclei the extractions of model-independent parameterizations of their charge densities have not been updated since the 80s and do not provide any uncertainty estimates. 
                Since these also applied to the nuclei we were interested in, we build such a framework in phython, which calculates elastic electron nucleus scattering crosssections based on input charge densities using the phase shift model, from which this package evolved. 
                With such a more modern implementation and programming language, the calculations can become faster, broader accessable, easier to understand and easier to incorporate into exisiting programs. 
                This package (in its pre-release version) has already been used successfully in the papers REFs to extract charge densities for nuclei of interest to \( \mu \to e \) conversion a (hypothetical) process of interest in particle physics. The package has been benchmarked for nuclei reaching from ... to ... . 
                
                <h2 id="dependencies">Dependencies</h2>
                
                <p>This program is built with python 3. (add Version). <br> <br>
                <u> It requires the following packages to operate properly: </u> <br>
                numpy (add Version) <br>
                scipy (add Version) <br>
                ....... (TBD) <br>
                </p>
                 
        <div class="divider" style="width:24%; margin:30px 0;"></div>

                <h1 id="gettingstarted">Getting Started</h1>

                <!--
                <h2>This is a sub-header</h2>
                
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor 
                in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, 
                sunt in culpa qui officia deserunt mollit anim id est laborum.</p> 

                <p><b>Important:</b> This line is for an important information.</p>
                -->
                
                <h2 id="installingapp">Install the package</h2>
                
                <p> To install and use the program please follow the following steps for setup. We assume you already have a working python enviroment setup on your machine (othewise see REF).<br>
                The package is listed on PyPI (TODO), which is why it can be easily accessed via:
                <pre><code> pip install phasr </code></pre>
                If you want the latest (development) version, you can clone it from the <a href="https://github.com/Partynumbers42/phasr"> phasr GitHub repository </a>. <br> 
                Note that you need need to also install all the reqired packages as listed <a href="#dependencies"> above </a>.
                </p>

                <!--
                <ol>
                    <li>
                    The first thing you need to do to install this app.
                    </li>
                    <br>
                    <li>
                    The second thing you need to do to install this app.
                    </li>
                    <br id="openingapp">
                    <li>
                     The app is installed now.
                    </li>
                    <br>
                </ol>
                -->

                <h2 id="openingapp">Use the package</h2>
                
                    <p>You can import the python package the same way as every other package, i.e.: 
                    <pre><code> import phasr as phr </code></pre>
                    You can then use the contained methods in the standard way. For example
                    <pre><code class="python"> nucleus_Al27 = phr.nucleus(name='Al27',Z=13,A=27,rc=5)
 mmu = phr.masses.mmu
 boundstates_Al27 = phr.boundstates(nucleus_Al27,kappa=-1,lepton_mass=mmu) 
 print('E_1s=',boundstates_Al27.energy_levels[0],'MeV') </code></pre>
                    will give you the groundstate energy of a muonic atom for the nucleus parameterisation, described used a uniform charge distribution of charge 13 and a radius of 5 fm. 
                    We will assume the import with the alias <code>phr</code> throughout this manual. 
                    </p>
                    
                <!--
             
                <ol>
                    <li>
                     The first thing you need to do to open this app.
                    </li>
                    <br>
                    <li>
                     The second thing you need to do to open this app.
                    </li>
                    <br>
                    <li>
                      The third thing you need to do to open this app.
                    </li>
                    <br>
                    <li>
                     Open the app and start using it!
                    </li>
                    <br>
                </ol>
                
                <p id="basicfeatures">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>

                -->
                
                
                    
            <div class="divider" style="width:24%; margin:30px 0;"></div>
            
                <h1 id="basicfeatures">Basic Modules</h1>
                
                <p> The code is structured into two main modules. 
                    The <code>nuclei</code> module is home of the <code>nucleus</code> class and manages all the relevant properties of a nucleus/isotope that is considered and calculates other properties based on the information it has available (e.g. the electric field from the charge density). 
                    The <code>dirac_solvers</code> module is home of the <code>boundstates</code> and <code>continuumstates</code> classes and manages solving the Dirac equation for a given nucleus based on its nucleus potential and returns the desired consequental quantities like for example electron wave functions, phase shifts or the crosssection. 
                    In all applicational scenarios one will first construct a <code>nucleus</code> object, which is then be used to construct a <code>boundstates</code> or <code>continuumstates</code> object. For calculating elastic scattering crosssections we supply the function <code>crosssection_lepton_nucleus_scattering</code>, 
                    which can be used to directly calculate the crosssection using the energy, the angle and a <code>nucleus</code> object. </p>

                <h2 id="nucleus">The <code>nucleus</code> class </h2>
                
                <p> To get a nucleus parameterization, use the <code>nucleus</code> class to construct a nucleus object. 
                    A nucleus object requires a few minimum parameters (e.g. a name, a charge \(Z\) and a nucleon number \(A\)) and and has a lot of optional parameters (e.g. some parameters for a specific parameterization). 
                    Based on the parameters supplied the class decides what kind of nucleus it is supposed to construct. You can check what parameterization was choosen based on the attribute <code>nucleus_type</code>
                    
                    <pre><code class="python"> phr.nucleus(name,Z,A,m=None,**args) </code></pre>
                    
                    General parameters are:

                    <ul>
                        <li>
                        <b>name</b> (<i>str</i>): Label for the nucleus, part of the filename if things about this nucleus are saved, should be unique.
                        <br>
                        <li>
                        <b>Z</b> (<i>int</i>): Nuclear charge number / proton number of the considered nucleus, necessary for the normalisation. 
                        Will raise a warning if not consistent with the normalisation of a provided charge density in **args. 
                        <li>
                        <b>A</b> (<i>int</i>): Atomic mass number / nucleon number of the considered nucleus, necessary for recoil, 
                        enables lookup of nucleon mass, spin, parity and isotope abundancy.  
                        <li>
                        <b>m</b> (<i>float</i>,optional) mass of the nucleus, necessary for recoil, is looked up based on \(Z\), \(A\) if not supplied.
                        <br>
                        <li>
                        <b>abundance</b> (<i>float</i>,optional) natural abundance of the nucleus, stored for convencience, is looked up based on \(Z\), \(A\) if not supplied.
                        <br>
                        <li>
                        <b>spin</b> (<i>float</i>,optional) spin of the nucleus, restricts what multipoles can exist, is looked up based on \(Z\), \(A\) if not supplied.
                        <br>
                        <li>
                        <b>parity</b> (<i>float</i>,optional) parity of the nucleus, stored for convenience, is looked up based on \(Z\), \(A\) if not supplied.
                        <br>
                        <li>
                        <b>k_barrett</b> (<i>float</i>,optional) value of k used to calculate barrett moments.
                        <br>
                        <li>
                        <b>alpha_barrett</b> (<i>float</i>,optional) value of alpha used to calculate barrett moments.
                        <br>
                    </ul>
                    
                    Parameterization spezific parameters are:

                    <table>
                        <tr>
                          <th>nucleus_type&emsp;&emsp;</th>
                          <th>Parameters / **args</th>
                        </tr>
                        <tr>
                            <td>'coulomb'</td>
                            <td> None</td>
                        </tr>
                        <tr>
                            <td>'fourier-bessel'</td>
                            <td><b>a</b> (<i>1d-array</i>): Array of parameters \(a_i\) in fm\(^{-3}\). \(N\) given by length of a.  
                            <br><b>R</b> (<i>float</i>): Cutoff radius R in fm. </td>
                        </tr>
                        <tr>
                            <td>'oszillator-basis'</td>
                            <td><b>Ci_dict</b> (<i>dict</i>): dictionary of 1d-arrays \(C_i\), with mutlipole names as keys (see TODO). </td>
                        </tr>
                        <tr>
                            <td>'fermi'</td>
                            <td><b>c</b> (<i>float</i>): \(c\) parameter in fm for Fermi parameterisation. 
                            <br><b>z</b> (<i>float</i>): \(z\) parameter in fm for Fermi parameterisation.
                            <br><b>w</b> (<i>float</i>,optional): \(w\) parameter for Fermi parameterisation (default: w=0). </td>
                        </tr>
                        <tr>
                            <td>'gauss'</td>
                            <td><b>b</b> (<i>float</i>): \(b\) parameter in fm for Gauss parameterisation. </td>
                        </tr>
                        <tr>
                            <td>'uniform'</td>
                            <td><b>rc</b> (<i>float</i>): \(r_c\) parameter in fm for Uniform parameterisation. </td>
                        </tr>
                        <tr>
                            <td>'numerical'</td>
                            <td><b>charge_density</b> (<i>callable,optional</i>): Function describing the charge density. 
                            <br><b>form_factor</b> (<i>callable,optional</i>): Function describing the form factor.
                            <br><b>electric_field</b> (<i>callable,optional</i>): Function describing the electric field.
                            <br><b>electric_potential</b> (<i>callable,optional</i>): Function describing the electric potential. 
                            <br><b>form_factor_dict</b> (<i>dict,optional</i>): Dictionary containing form factor functions for specific multipoles (keys are 'F'+multipole).
                            <br><b>density_dict</b> (<i>dict,optional</i>): Dictionary containing density functions for specific multipoles (keys are 'rho'+multipole).
                            <br> Can deduce/calculate other quantities, based on the given one.</td>
                        </tr>
                          
                      </table> 


                The parameterizations are based on:
                \[ \rho_\text{FB}(r) = \sum_{i=1}^N a_i ~ j_0(q_i r); \qquad q_i= \frac{i \pi}{R} \]
                \[ \rho_\text{Fermi}(r) = \rho_0 \frac{1+w \tfrac{r^2}{c^2}}{1 + e^{(r-c)/z}}<!--; \qquad \rho_0 = \frac{Z}{8\pi z^3} (-\text{Li}_3(-e^{c/z}) - 12 w \tfrac{z^2}{c^2} \text{Li}_5(-e^{c/z}) )^{-1} -->\]
                \[ \rho_\text{Gauss}(r) = \frac{Z}{\pi^{3/2} b^3} e^{-(r/b)^2} \]
                \[ \rho_\text{Uni}(r) = \begin{cases} \frac{3 Z}{4 \pi r_c^3} & r \leq r_c \\ 0 & r < r_c \end{cases} \]
                \[ F_\text{Osz}(q) = e^{-u(q)/2} \sum_i C_i ~ u(q)^i; \qquad u(q)=\frac{q^2 b^2}{2} \]
                </p>

                <h2 id="diracsolver">The <code>dirac_solvers</code> module </h2>
                
                <p> TBD </p>

                <!--<p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                <br><br>
                <b>Explanation 1</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                <br>
                <br>
                <b>Explanation 2</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                <br>
                <br>
                <b>Explanation 3</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                <br>
                <br>
                <b>Explanation 4</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                </p>-->
                
                <!-- <h2 id="feature3">Feature 3</h2>
                
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                <br>
             Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                </p>
                
                <h2 id="feature4">Feature 4</h2>
                
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                  <br>
                  <br>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                 <br>
                 <br>
                 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
                
                
                <h2 id="feature5">Feature 5</h2>
                
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                <br>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                <br>
                </p>
                
        
                
               <h2>Feature 5</h2>
                 
               <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
                
                -->

                <div class="divider" style="width:24%; margin:30px 0;"></div>
                
                <h1 id="advanced">Common use cases</h1>
                
                <h2 id="FB">Calculate the scattering crosssection based on an analytic charge density parametrisation</h2>
                
                <p>TBD</p>
                   
                
                <h2 id="numerical">Calculate the scattering crosssection based on a numerical charge density parametrisation</h2>
                
                <p>TBD</p>
                

                <h2 id="PV">Calculate the left-right asymmetry for parity violating electron scattering</h2>
                  
                <p>TBD</p>
                  
                 <!--
                <h2 id="featurec1">Feature C.1</h2>

                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit:
                </p>
                
                   <ul>
                    <li>
                    <b>Point 1</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    <br>
                    <li>
                    <b>Point 2</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor.
                    </li>
                    <br>
                     <li>
                    <b>Point 3</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    <br>
                </ul>
                   
                 <h2 id="featurec2">Feauture C.2</h2>
                   
                 <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    <br>
                    <br>
                     <b>Important:</b> Please notice that lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    <br>
                    <br>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                 </p>
                  
                  
                  <h2>Feature D</h2>
                  
                  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                  
                  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                  <br>
                  <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                -->
                  
                <!--
                <div class="divider" style="width:24%; margin:30px 0;"></div>
                   
                   <h1 id="accesibility">Accessibility</h1>
                   
                   <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                   <br>
                   <br>
                   Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                   <br>
                   Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                   
                   <p>Lorem ipsum dolor sit amet.
                      <br id="moreinfo">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                   
                <div class="divider" style="width:24%; margin:30px 0;"></div>
                
                -->

                <h1>More Info</h1>

                <p>... .This website was build based on a template from github user charlyllo.</p>

                <div class="doublespace"></div>
                <div class="divider" style="width:24%; margin:30px 0;"></div>
                

            </div>

        </div>


    </div>

<script>hljs.highlightAll();</script>

</body>
</html>
<!--Based on template from charlyllo-->
